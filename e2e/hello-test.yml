---
execution:
- concurrency: 3
  hold-for: 5m
  # ramp-up: 40s
  scenario: hello-test
scenarios:
  hello-test:
    requests:
    - label: hello-get
      method: GET
      url: http://192.168.99.100/application/hello
      assert:
        - contains:
          - "hello"
          subject: body
  mongo-test:
    requests:
    - label: mongo-get
      method: GET
      url: http://192.168.99.100/application/mongo
      assert:
        - contains:
          - "counter"
          subject: body
  envoy-hello-test:
    requests:
    - label: hello-get
      method: GET
      url: http://192.168.99.100:10000/application/hello
      assert:
        - contains:
          - "hello"
          subject: body
modules:
  jmeter:
    gui: false